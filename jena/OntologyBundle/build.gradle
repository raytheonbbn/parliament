plugins {
	id 'java-gradle-plugin'
}

repositories {
	mavenCentral()
}

dependencies {
	implementation "$commonsCsvDependency"
	implementation "$jenaCmdsDependency"
	//implementation "$sparqlQueryBuilderDependency"
	implementation project(':jena:SparqlQueryBuilder')

	testImplementation gradleTestKit()
	testImplementation "$jupiterDependency"
}

sourceCompatibility = '17'
targetCompatibility = '17'

gradlePlugin {
	plugins {
		ontologyBundle {
			id = 'com.bbn.parliament.ontology_bundle.ontologyBundle'
			implementationClass = 'com.bbn.parliament.ontology_bundle.OntologyBundlePlugin'
		}
	}
}

test {
	useJUnitPlatform()
}

task xlatePrefix(type: JavaExec) {
	dependsOn compileJava
	mainClass = 'com.bbn.parliament.ontology_bundle.XlatePrefix'
	classpath = sourceSets.main.runtimeClasspath

	//systemProperty 'PROP_NAME', "property-value"

	args = [
		"$projectDir/test-ontology/owl-time.ttl",			// input
		"$projectDir/test-ontology/owl-time-new.ttl",	// output
		'',															// old prefix
		'time',														// new prefix
	]
}
